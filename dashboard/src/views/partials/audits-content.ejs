<%- include('breadcrumbs', { breadcrumbs: typeof breadcrumbs !== 'undefined' ? breadcrumbs : [] }) %>
<h1>Audit Reports</h1>

<% if (typeof reports !== 'undefined' && reports.length > 0) { %>
<article>
  <div class="table-wrap">
  <table>
    <thead>
      <tr>
        <th scope="col">Date</th>
        <th scope="col">Report</th>
      </tr>
    </thead>
    <tbody>
      <% reports.forEach(function(report) { %>
      <tr>
        <td><%= report.date || 'â€”' %></td>
        <td>
          <a href="/audits/<%= report.filename %>"
             hx-get="/audits/<%= report.filename %>"
             hx-target="#main-content"
             hx-push-url="true">
            <%= report.title %>
          </a>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>
  </div>
</article>
<% } else { %>
<%- include('empty-state', { icon: 'ðŸ”', title: 'No audit reports found', action: 'Run /pbr:audit to generate a session audit report.' }) %>
<% } %>
