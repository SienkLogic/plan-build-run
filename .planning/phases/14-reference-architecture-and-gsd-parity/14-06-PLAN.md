---
phase: "14-reference-architecture-and-gsd-parity"
plan: "14-06"
type: "infrastructure"
wave: 2
depends_on: ["14-01", "14-02", "14-03", "14-04", "14-05"]
files_modified: []
autonomous: true
discovery: 0
must_haves:
  truths:
    - "No orphaned reference files remain in skills/ subdirectories"
    - "All 11 reference docs exist in references/ directory"
    - "All 11 new templates exist (5 research + 6 top-level)"
    - "All cross-references in SKILL.md and agent files resolve to existing files"
    - "All existing tests pass"
  artifacts: []
  key_links:
    - "Every cross-reference path in SKILL.md files points to an existing file"
    - "No broken references from skills/ to old scattered doc locations"
---

# Plan 14-06: Verification -- Orphan Check, Test Suite, Cross-Reference Audit

Final verification plan for Phase 14. Runs comprehensive checks to confirm all success criteria are met: no orphaned files, all new files exist, all cross-references resolve, and all tests pass.

<task id="14-06-T1" type="auto" tdd="false">
  <name>Verify file structure and orphan check</name>
  <files>
  </files>
  <action>
1. Verify references/ directory contents (expect 11 files: 7 moved + 4 new):
   ```bash
   ls -la plugins/dev/references/
   ```
   Expected files:
   - continuation-format.md (moved)
   - verification-patterns.md (moved)
   - ui-formatting.md (moved)
   - questioning.md (moved + renamed)
   - commit-conventions.md (moved)
   - deviation-rules.md (moved)
   - plan-format.md (moved)
   - checkpoints.md (new)
   - git-integration.md (new)
   - model-profiles.md (new)
   - planning-config.md (new)

2. Verify templates/research/ directory (expect 5 files):
   ```bash
   ls -la plugins/dev/templates/research/
   ```
   Expected: ARCHITECTURE.md.tmpl, FEATURES.md.tmpl, PITFALLS.md.tmpl, STACK.md.tmpl, SUMMARY.md.tmpl

3. Verify new top-level templates (expect 6 new + 6 existing = 12 total .tmpl files):
   ```bash
   ls -la plugins/dev/templates/*.tmpl
   ```
   New expected: DEBUG.md.tmpl, UAT.md.tmpl, discovery.md.tmpl, milestone-archive.md.tmpl, milestone.md.tmpl, continue-here.md.tmpl

4. Orphan check -- confirm NO reference docs remain in skills/ subdirectories:
   ```bash
   # These files should NOT exist
   test ! -f plugins/dev/skills/build/continuation-format.md
   test ! -f plugins/dev/skills/build/commit-conventions.md
   test ! -f plugins/dev/skills/plan/verification-patterns.md
   test ! -f plugins/dev/skills/plan/deviation-rules.md
   test ! -f plugins/dev/skills/plan/plan-format.md
   test ! -f plugins/dev/skills/shared/ui-formatting.md
   test ! -f plugins/dev/skills/begin/questioning-guide.md
   test ! -f plugins/dev/skills/quick/templates/plan-format.md.tmpl
   ```

5. If any check fails, report the specific failure for gap closure.
  </action>
  <verify>
ls plugins/dev/references/ | wc -l
ls plugins/dev/templates/research/ | wc -l
ls plugins/dev/templates/*.tmpl | wc -l
test ! -f plugins/dev/skills/build/continuation-format.md && test ! -f plugins/dev/skills/build/commit-conventions.md && test ! -f plugins/dev/skills/plan/verification-patterns.md && test ! -f plugins/dev/skills/plan/deviation-rules.md && test ! -f plugins/dev/skills/plan/plan-format.md && test ! -f plugins/dev/skills/shared/ui-formatting.md && test ! -f plugins/dev/skills/begin/questioning-guide.md && echo "OK: no orphaned files" || echo "FAIL: orphaned files remain"
  </verify>
  <done>
File structure verified: 11 reference docs in references/, 5 research templates in templates/research/, 12 top-level templates in templates/, and no orphaned reference files in skills/ subdirectories.
  </done>
</task>

<task id="14-06-T2" type="auto" tdd="false">
  <name>Cross-reference audit and test suite</name>
  <files>
  </files>
  <action>
1. Cross-reference audit -- search all SKILL.md and agent files for references to old scattered paths:
   ```bash
   grep -rn "skills/build/continuation-format\|skills/build/commit-conventions\|skills/plan/verification-patterns\|skills/plan/deviation-rules\|skills/plan/plan-format\|skills/shared/ui-formatting\|skills/begin/questioning" plugins/dev/skills/ plugins/dev/agents/
   ```
   Expected: NO matches. If any matches found, they are gaps to report.

2. Verify new cross-references exist and resolve:
   ```bash
   grep -rn "references/continuation-format" plugins/dev/skills/build/SKILL.md
   grep -rn "references/verification-patterns" plugins/dev/skills/build/SKILL.md
   grep -rn "references/ui-formatting" plugins/dev/skills/status/SKILL.md
   grep -rn "references/questioning" plugins/dev/skills/begin/SKILL.md
   grep -rn "references/plan-format" plugins/dev/skills/quick/SKILL.md
   ```
   Expected: Each grep returns exactly 1 match.

3. Also check the begin/questioning-guide.md internal reference to domain-probes.md:
   ```bash
   grep -n "questioning-guide" plugins/dev/skills/ -r
   ```
   Expected: NO matches (the file was renamed to questioning.md).

   Check if questioning.md still has an internal reference to the old relative path:
   ```bash
   grep -n "questioning-guide\|../shared/domain-probes" plugins/dev/references/questioning.md
   ```
   If the old `questioning-guide.md` contained a relative link to `../shared/domain-probes.md`, update it to `skills/shared/domain-probes.md` (absolute from plugin root) or note it as a gap.

4. Run the full test suite:
   ```bash
   cd D:/Repos/towline && npm test
   ```
   Expected: All existing tests pass. This phase creates no new code, only documentation files, so tests should be unaffected.

5. If any check fails, document the specific gap for follow-up.
  </action>
  <verify>
grep -rn "skills/build/continuation-format\|skills/build/commit-conventions\|skills/plan/verification-patterns\|skills/plan/deviation-rules\|skills/plan/plan-format\|skills/shared/ui-formatting\|skills/begin/questioning" plugins/dev/skills/ plugins/dev/agents/ && echo "FAIL: old refs remain" || echo "OK: no old refs"
cd D:/Repos/towline && npm test
  </verify>
  <done>
Cross-reference audit passes with no broken references. All existing tests pass. Phase 14 success criteria are fully met.
  </done>
</task>
