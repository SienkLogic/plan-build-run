---
phase: "14-reference-architecture-and-gsd-parity"
plan: "14-02"
type: "docs"
wave: 1
depends_on: []
files_modified:
  - "plugins/dev/references/checkpoints.md"
  - "plugins/dev/references/git-integration.md"
  - "plugins/dev/references/model-profiles.md"
  - "plugins/dev/references/planning-config.md"
autonomous: true
discovery: 1
must_haves:
  truths:
    - "checkpoints.md documents Towline's checkpoint task types and handling behavior"
    - "git-integration.md documents Towline's commit conventions, commit points, and branching strategy"
    - "model-profiles.md documents which models Towline agents use and selection criteria"
    - "planning-config.md documents config.json schema, fields, defaults, and behavior"
  artifacts:
    - "plugins/dev/references/checkpoints.md"
    - "plugins/dev/references/git-integration.md"
    - "plugins/dev/references/model-profiles.md"
    - "plugins/dev/references/planning-config.md"
  key_links:
    - "git-integration.md expands on the content from commit-conventions.md (moved in 14-01)"
    - "checkpoints.md aligns with checkpoint task types defined in plan-format.md (moved in 14-01)"
    - "planning-config.md documents the same config.json that skills/config/SKILL.md manages"
---

# Plan 14-02: Create New Reference Docs for GSD Parity

Create 4 new reference documents that achieve structural parity with GSD's `references/` directory. Each document is adapted from its GSD counterpart but written for Towline's specific concepts, terminology, and workflow.

<task id="14-02-T1" type="auto" tdd="false">
  <name>Create checkpoints.md and git-integration.md reference docs</name>
  <files>
    plugins/dev/references/checkpoints.md
    plugins/dev/references/git-integration.md
  </files>
  <action>
1. Create `plugins/dev/references/checkpoints.md`:
   - Adapt from GSD `references/checkpoints.md` (1,078 lines) but focus on Towline's checkpoint model
   - Document the 3 Towline checkpoint task types from plan-format.md:
     - `checkpoint:human-verify` — executor presents output, waits for human approval
     - `checkpoint:decision` — executor presents options, waits for human choice
     - `checkpoint:human-action` — describes what human needs to do, waits for completion
   - Document the checkpoint continuation protocol (how executor resumes after checkpoint)
   - Document when to use each checkpoint type (decision criteria)
   - Document checkpoint behavior in autonomous vs non-autonomous plans
   - Reference Towline concepts: `autonomous: true/false` in plan frontmatter, continuation executor spawning
   - Do NOT copy GSD-specific concepts (GSD uses different checkpoint taxonomy)
   - Keep concise: aim for 150-250 lines (Towline has simpler checkpoint model than GSD)

2. Create `plugins/dev/references/git-integration.md`:
   - Start with the content from `references/commit-conventions.md` (which was moved in 14-01, 119 lines)
   - Expand with additional sections adapted from GSD `references/git-integration.md` (254 lines):
     - **Commit Format**: `{type}({phase}-{plan}): {description}` (already in commit-conventions.md)
     - **Valid Commit Types**: feat, fix, refactor, test, docs, chore
     - **Commit Points**: When the executor should commit (after each task completion, after plan completion)
     - **Branching Strategy**: Document `config.json` branching options if they exist; otherwise document default (work on current branch)
     - **Git Initialization**: How Towline handles non-git directories (from hooks/check-git.js behavior)
     - **Pre-commit Hooks**: Document Towline's hook scripts from `plugins/dev/hooks/`
   - Read `plugins/dev/hooks/` directory to document actual git behavior
   - Read `plugins/dev/skills/build/SKILL.md` for commit-related instructions
   - Replace all GSD-specific references (`/gsd:*` commands, GSD agent names) with Towline equivalents
   - Aim for 150-250 lines
  </action>
  <verify>
test -f plugins/dev/references/checkpoints.md && echo "OK: checkpoints.md exists"
test -f plugins/dev/references/git-integration.md && echo "OK: git-integration.md exists"
wc -l plugins/dev/references/checkpoints.md
wc -l plugins/dev/references/git-integration.md
  </verify>
  <done>
checkpoints.md documents Towline's 3 checkpoint task types with usage criteria and continuation protocol. git-integration.md documents Towline's complete git workflow including commit format, commit points, hooks, and branching.
  </done>
</task>

<task id="14-02-T2" type="auto" tdd="false">
  <name>Create model-profiles.md and planning-config.md reference docs</name>
  <files>
    plugins/dev/references/model-profiles.md
    plugins/dev/references/planning-config.md
  </files>
  <action>
1. Create `plugins/dev/references/model-profiles.md`:
   - Adapt from GSD `references/model-profiles.md` (73 lines)
   - Document Towline's agent-to-model mapping by reading `plugins/dev/agents/*.md` files
   - For each agent (towline-executor, towline-researcher, towline-planner, towline-verifier, towline-debugger, towline-plan-checker, towline-synthesizer, towline-codebase-mapper, towline-integration-checker, towline-general):
     - Document the model used (check for `model:` field or `subagent_type` pattern)
     - Document any model selection rationale
   - Also check `plugins/dev/skills/*/SKILL.md` for `Task(` calls with explicit model parameters
   - Document the default model behavior when no model is specified
   - If model selection is currently hardcoded/not configurable, document that fact
   - Aim for 60-100 lines (Towline has simpler model selection than GSD)

2. Create `plugins/dev/references/planning-config.md`:
   - Adapt from GSD `references/planning-config.md` (189 lines)
   - Read `plugins/dev/skills/config/SKILL.md` for config.json schema documentation
   - Read `.planning/config.json` from any test project or document the schema from skill definitions
   - Document each config.json field:
     - `depth` (quick/standard/comprehensive) — what each level means
     - `tdd_mode` (true/false) — effect on plan generation
     - `parallelization` (true/false) — effect on agent spawning
     - `max_concurrent_agents` — agent limit
     - `max_tasks_per_plan` — plan size limit
     - `autonomous` (true/false) — checkpoint behavior
     - Any other fields defined in the config skill
   - Document default values for each field
   - Document how config.json is created (by `/dev:begin` or `/dev:discuss`)
   - Replace GSD-specific config fields with Towline equivalents
   - Aim for 120-180 lines
  </action>
  <verify>
test -f plugins/dev/references/model-profiles.md && echo "OK: model-profiles.md exists"
test -f plugins/dev/references/planning-config.md && echo "OK: planning-config.md exists"
wc -l plugins/dev/references/model-profiles.md
wc -l plugins/dev/references/planning-config.md
  </verify>
  <done>
model-profiles.md documents Towline's agent-to-model mapping with current selection behavior. planning-config.md documents the complete config.json schema with field descriptions, defaults, and behavioral effects.
  </done>
</task>
